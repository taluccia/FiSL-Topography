---
title: "Terrain with RSaga Test"
author: "Anna Talucci"
date: '2022-06-27'
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```
# Overview


[Link to RSAGA Vignette](https://cran.r-project.org/web/packages/RSAGA/vignettes/RSAGA.html)

# Packages

```{r}
library(RSAGA)
library(raster)
```

```{r}
env <- rsaga.env()
```

# DEM Data
```{r}
x <- raster("../data/DEMFieldAK/N62W142_FABDEM_V1-0.tif")
```

```{r}
x
```

# Save DEM as SAGA grd
```{r}
writeRaster(data=x, file = "../outputs/dem.asc", format="ascii")
```
```{r}
write.ascii.grid(data = x, file = "../outputs/dem", header = TRUE)  
```


# Test
```{r}
rsaga.geoprocessor(lib = "ta_morphometry", module = "Slope, Aspect, Curvature",
                   param = list(ELEVATION = paste(getwd(),"/dem.sgrd", sep = ""), 
                                SLOPE = paste(getwd(),"/slope.sgrd", sep = "")),
                   env = env)
```


# Data